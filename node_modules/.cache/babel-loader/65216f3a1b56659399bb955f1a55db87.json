{"remainingRequest":"D:\\Church\\prayer-watch\\node_modules\\babel-loader\\lib\\index.js!D:\\Church\\prayer-watch\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Church\\prayer-watch\\src\\store\\modules\\register_prayer.js","dependencies":[{"path":"D:\\Church\\prayer-watch\\src\\store\\modules\\register_prayer.js","mtime":1584989305648},{"path":"D:\\Church\\prayer-watch\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Church\\prayer-watch\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Church\\prayer-watch\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgaG91cnMgZnJvbSAnLi4vaG91cnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIG1lc3NhZ2U6ICcnLAogICAgbWVzc2FnZUNsYXNzOiAnJywKICAgIG1lc3NhZ2VUaXRsZTogJycsCiAgICBwcmF5ZXJzOiB7CiAgICAgIGlkOiAnUGVyaW9kbyAwMScsCiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSwKICAgICAgc2NoZWR1bGVzOiBob3VycwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIHVzZXIgPSBfcmVmLnVzZXIsCiAgICAgICAgICBob3VyID0gX3JlZi5ob3VyOwogICAgICBWdWUucHJvdG90eXBlLiRodHRwLmdldCgncHJheWVyLXdhdGNoL3ByYXllcnMuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3AuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIHN0YXRlLnByYXllcnMgPSBkYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBzY2hlZHVsZXMgPSBzdGF0ZS5wcmF5ZXJzLnNjaGVkdWxlczsKICAgICAgdmFyIHVuYXZhaWxhYmxlSG91cnMgPSBbXTsKICAgICAgaG91ci5mb3JFYWNoKGZ1bmN0aW9uIChob3VyKSB7CiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHNjaGVkdWxlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGlmIChzY2hlZHVsZXNbaW5kZXhdLmhvdXIgPT0gaG91cikgewogICAgICAgICAgICBpZiAoc2NoZWR1bGVzW2luZGV4XS51c2VyID09ICcnICYmICFzY2hlZHVsZXNbaW5kZXhdLnVzZXIpIHsKICAgICAgICAgICAgICBzY2hlZHVsZXNbaW5kZXhdLnVzZXIgPSB1c2VyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVuYXZhaWxhYmxlSG91cnMucHVzaChob3VyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBwcmF5ZXJzID0gc3RhdGUucHJheWVyczsKICAgICAgVnVlLnByb3RvdHlwZS4kaHR0cC5wdXQoJ3ByYXllci13YXRjaC5qc29uJywgewogICAgICAgIHByYXllcnM6IHByYXllcnMKICAgICAgfSk7CgogICAgICBpZiAodW5hdmFpbGFibGVIb3Vycy5sZW5ndGggPT0gMCkgewogICAgICAgIHN0YXRlLm1lc3NhZ2UgPSAnUmVnaXN0cm8gc2Fsdm8gY29tIHN1Y2Vzc28nOwogICAgICAgIHN0YXRlLm1lc3NhZ2VDbGFzcyA9ICdzdWNjZXNzJzsKICAgICAgICBzdGF0ZS5tZXNzYWdlVGl0bGUgPSAnU3VjZXNzbyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUubWVzc2FnZSA9ICdPIGhvcsOhcmlvICBbJyArIHVuYXZhaWxhYmxlSG91cnMgKyAnXSBlc2NvbGhpZG8gbsOjbyBlc3RhIG1haXMgZGlzcG9uw612ZWwuJzsKICAgICAgICBzdGF0ZS5tZXNzYWdlQ2xhc3MgPSAnd2FybmluZyc7CiAgICAgICAgc3RhdGUubWVzc2FnZVRpdGxlID0gJ0F0ZW7Dp8Ojbyc7CiAgICAgIH0KICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMiwgc2NoZWR1bGUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdyZWdpc3RlcicsIHNjaGVkdWxlKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIHByYXllcnM6IGZ1bmN0aW9uIHByYXllcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnByYXllcnM7CiAgICB9LAogICAgc2NoZWR1bGU6IGZ1bmN0aW9uIHNjaGVkdWxlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zY2hlZHVsZTsKICAgIH0sCiAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5tZXNzYWdlOwogICAgfSwKICAgIG1lc3NhZ2VDbGFzczogZnVuY3Rpb24gbWVzc2FnZUNsYXNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5tZXNzYWdlQ2xhc3M7CiAgICB9LAogICAgbWVzc2FnZVRpdGxlOiBmdW5jdGlvbiBtZXNzYWdlVGl0bGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1lc3NhZ2VUaXRsZTsKICAgIH0sCiAgICBhY3RpdmVIb3VyczogZnVuY3Rpb24gYWN0aXZlSG91cnMoc3RhdGUpIHsKICAgICAgVnVlLnByb3RvdHlwZS4kaHR0cC5nZXQoJ3ByYXllci13YXRjaC9wcmF5ZXJzLmpzb24nKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwLmRhdGE7CgogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICBzdGF0ZS5wcmF5ZXJzID0gZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gc3RhdGUucHJheWVycy5zY2hlZHVsZXMuZmlsdGVyKGZ1bmN0aW9uIChob3VyKSB7CiAgICAgICAgcmV0dXJuICFob3VyLnVzZXI7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/Church/prayer-watch/src/store/modules/register_prayer.js"],"names":["Vue","hours","state","message","messageClass","messageTitle","prayers","id","createdAt","Date","schedules","mutations","register","user","hour","prototype","$http","get","then","resp","data","unavailableHours","forEach","index","length","push","put","actions","schedule","commit","getters","activeHours","filter"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport hours from '../hours'\r\n\r\nexport default {\r\n    state: {\r\n        message: '',\r\n        messageClass: '',\r\n        messageTitle: '',\r\n        prayers: {\r\n            id: 'Periodo 01',\r\n            createdAt: new Date(),\r\n            schedules: hours\r\n        }\r\n    },\r\n    \r\n    mutations: {\r\n        register(state, { user, hour }) {\r\n            Vue.prototype.$http.get('prayer-watch/prayers.json').then(resp => {\r\n                const data = resp.data\r\n                \r\n                if(data) {\r\n                    state.prayers = data\r\n                }\r\n            })\r\n\r\n            let schedules = state.prayers.schedules\r\n            let unavailableHours = []\r\n\r\n            hour.forEach(function(hour){\r\n                for (let index = 0; index < schedules.length; index++) {\r\n                   if (schedules[index].hour == hour) {\r\n                      if(schedules[index].user == '' && !schedules[index].user){\r\n                        schedules[index].user = user\r\n                      } else {\r\n                        unavailableHours.push(hour)\r\n                      }\r\n                    }\r\n                }\r\n             });\r\n             \r\n            let prayers = state.prayers\r\n            \r\n            Vue.prototype.$http.put('prayer-watch.json', { prayers })\r\n\r\n             if(unavailableHours.length == 0){\r\n                state.message = 'Registro salvo com sucesso'\r\n                state.messageClass = 'success'\r\n                state.messageTitle = 'Sucesso'\r\n             } else {\r\n                state.message = 'O horário  [' + unavailableHours + '] escolhido não esta mais disponível.'\r\n                state.messageClass = 'warning'\r\n                state.messageTitle = 'Atenção'\r\n             }\r\n        }\r\n    },\r\n\r\n    actions: {\r\n        register({ commit }, schedule) {\r\n            commit('register', schedule)\r\n        }\r\n    },\r\n\r\n    getters: {\r\n        prayers(state){\r\n            return state.prayers\r\n        },\r\n\r\n        schedule(state){\r\n            return state.schedule\r\n        },\r\n\r\n        message(state){\r\n            return state.message\r\n        },\r\n\r\n        messageClass(state){\r\n            return state.messageClass\r\n        },\r\n\r\n        messageTitle(state){\r\n            return state.messageTitle\r\n        },\r\n\r\n        activeHours(state) {\r\n            Vue.prototype.$http.get('prayer-watch/prayers.json').then(resp => {\r\n                const data = resp.data\r\n                \r\n                if(data) {\r\n                    state.prayers = data\r\n                }\r\n            })\r\n            \r\n            return state.prayers.schedules.filter(function(hour) {\r\n                 return !hour.user\r\n            })\r\n        },\r\n    }\r\n}"]}]}